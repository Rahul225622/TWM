### 共享配置 / Shared
include ~/.config/TWM/shared/i3-sway-common.conf

### 输入设置 / Input Configuration
input type:keyboard {
    xkb_layout jp
}

### 显示器布局 / Output Configuration
output DP-1 scale 2 position 0 0
output eDP-1 scale 1.5 position 0 1080

### 自动启动 / Autostart
exec_always --no-startup-id waybar -c ~/.config/waybar/sway/config.jsonc -s ~/.config/waybar/style.css

exec_always --no-startup-id swaybg -i "$HOME/.config/sway/background.png" -m fill
exec_always --no-startup-id fcitx5 -d
# exec_always --no-startup-id mako

bindsym $mod+w exec "$HOME/.config/sway/scripts/window_switcher.sh"

### 快捷键 - 应用启动 / Bindings - Applications
bindsym $mod+d exec wofi --show drun
bindsym $mod+Ctrl+Alt+Shift+q exec swaynag \
  -t warning \
  -m "Are you sure you want to exit Sway?" \
  -b "Exit" "swaymsg exit" \
  -b "Cancel" ""

### Bindings - Screenshot
bindsym Print exec bash -c 'grim - | wl-copy && notify-send "Screenshot" "Full screen copied to clipboard" -t 2000'
bindsym Alt+Print exec bash -c 'filename=~/Downloads/screenshot-$(date +%Y%m%d-%H%M%S).png && grim "$filename" && notify-send "Screenshot" "Saved to Downloads" -t 3000'
bindsym Shift+Print exec bash -c 'filename=~/Downloads/screenshot-$(date +%Y%m%d-%H%M%S).png && grim -g "$(slurp)" "$filename" && notify-send "Area Screenshot" "Saved to Downloads" -t 3000'
bindsym Alt+a exec bash -c 'grim -g "$(slurp)" - | wl-copy && notify-send "Area Screenshot" "Copied to clipboard" -t 2000'
